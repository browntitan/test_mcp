# -----------------------
# MCP Server
# -----------------------
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8765
LOG_LEVEL=INFO

# -----------------------
# Policy DB / pgvector (RAG)
# (MCP runs on host, Postgres container published to host:5432)
# -----------------------
POLICY_DB_URL=postgresql+psycopg://postgres:postgres@localhost:5432/pgvector_mcp_document
POLICY_DEFAULT_COLLECTION=default
POLICY_TOP_K_DEFAULT=3

# -----------------------
# Model profiles
# Use explicit profiles so behavior is deterministic.
# IMPORTANT: keep this JSON UNQUOTED to avoid dotenv parsing issues.
# -----------------------
MODEL_PROFILES_JSON={"chat":{"provider":"azure_openai","azure_endpoint":"https://aiml-aoai-api.gc1.myngc.com/","azure_api_version":"2024-02-01","azure_deployment":"__FILL_ME_CHAT_DEPLOYMENT__","api_key":"__FILL_ME_AZURE_API_KEY__","azure_embeddings_deployment":"__FILL_ME_EMBEDDINGS_DEPLOYMENT__","azure_embeddings_api_version":"2024-10-21"},"assessment":{"provider":"azure_openai","azure_endpoint":"https://aiml-aoai-api.gc1.myngc.com/","azure_api_version":"2024-02-01","azure_deployment":"__FILL_ME_CHAT_DEPLOYMENT__","api_key":"__FILL_ME_AZURE_API_KEY__","azure_embeddings_deployment":"__FILL_ME_EMBEDDINGS_DEPLOYMENT__","azure_embeddings_api_version":"2024-10-21"}}

DEFAULT_CHAT_MODEL_PROFILE=chat
DEFAULT_ASSESSMENT_MODEL_PROFILE=assessment
ALLOW_MODEL_OVERRIDE=false

# -----------------------
# Embeddings selection
# Force embeddings to use the Azure profile (prevents Ollama /api/embed usage)
# -----------------------
EMBEDDINGS_MODEL_PROFILE=assessment

# text-embedding-ada-002 is 1536-dim
EMBEDDINGS_DIM=1536

# -----------------------
# TLS / Cert behavior for Azure (only applied for azure_openai provider)
# Prefer using a CA bundle if you have one; otherwise you can disable verify.
# -----------------------
AZURE_OPENAI_SSL_VERIFY=false
# AZURE_OPENAI_CA_BUNDLE=C:\path\to\corp-ca.pem

# -----------------------
# (Optional) Proxy support (httpx respects these because we enabled trust_env=True)
# Set only if your org requires proxying outbound HTTPS.
# -----------------------
# HTTPS_PROXY=http://proxy.company:8080
# HTTP_PROXY=http://proxy.company:8080
# NO_PROXY=localhost,127.0.0.1