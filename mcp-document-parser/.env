# -----------------------
# MCP Server
# -----------------------
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8765
LOG_LEVEL=INFO

# -----------------------
# Policy DB / pgvector (RAG)
# -----------------------
# Update this to match your local Postgres/pgvector setup
POLICY_DB_URL=postgresql+psycopg://postgres:postgres@localhost:5432/pgvector_mcp_document
POLICY_DEFAULT_COLLECTION=default
POLICY_TOP_K_DEFAULT=6

# -----------------------
# Model profiles
# -----------------------
# If provided, this overrides all defaults. Example:
# MODEL_PROFILES_JSON={"chat":{"provider":"openai_compatible","base_url":"http://localhost:11434/v1","api_key":"ollama","model":"llama3.1:8b"},"assessment":{"provider":"azure_openai","azure_endpoint":"...","azure_api_version":"...","azure_deployment":"...","api_key":"..."}}
# MODEL_PROFILES_JSON=

DEFAULT_CHAT_MODEL_PROFILE=chat
DEFAULT_ASSESSMENT_MODEL_PROFILE=assessment

# For local/dev experimentation only. Keep false in enterprise.
ALLOW_MODEL_OVERRIDE=false

# -----------------------
# Local Ollama defaults (used when MODEL_PROFILES_JSON is not set)
# -----------------------
# If set to the native Ollama API, config.py automatically converts /api -> /v1
OLLAMA_BASE_URL=http://localhost:11434/api
# Optional explicit override (if set, used instead of OLLAMA_BASE_URL)
OLLAMA_OPENAI_BASE_URL=http://localhost:11434/v1
OLLAMA_MODEL=gpt-oss:20b

# -----------------------
# Azure OpenAI defaults (optional)
# If these are set and MODEL_PROFILES_JSON is not set, config.py uses Azure for "assessment"
# -----------------------
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_API_VERSION=
AZURE_OPENAI_DEPLOYMENT=


# --- Embeddings selection ---
EMBEDDINGS_MODEL_PROFILE=chat          # or assessment


# --- Ollama embeddings (native API) ---
OLLAMA_EMBEDDINGS_URL=http://localhost:11434/api/embed
OLLAMA_EMBEDDINGS_MODEL=nomic-embed-text:latest
EMBEDDINGS_DIM=768

# --- Azure embeddings (optional enterprise) ---
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=
AZURE_OPENAI_EMBEDDINGS_API_VERSION=